// Generated by @compas/code-gen

import FormData from "form-data";
import { validateCompasStructureResponse } from "../compas/validators.js";
import { AppError } from "@compas/stdlib";
/**
 * Return the full available API structure
 *
 * Tags: ["_compas"]
 *
 * @param {import("axios").AxiosInstance} axiosInstance
 * @param {import("axios").AxiosRequestConfig & { skipResponseValidation?: boolean }} [requestConfig]
 * @returns {Promise<import("../common/types").CompasStructureResponse>}
 */
export async function apiCompasStructure(axiosInstance, requestConfig) {
  const response = await axiosInstance.request({
    url: `_compas/structure.json`,
    method: "GET",
    ...requestConfig,
  });
  if (requestConfig?.skipResponseValidation) {
    return response.data;
  }
  const { value, error } = validateCompasStructureResponse(response.data);
  if (error) {
    throw AppError.validationError("validator.error", {
      route: { group: "compas", name: "structure" },
      error,
    });
  } else {
    return value;
  }
}
